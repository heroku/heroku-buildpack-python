#!/usr/bin/env bash
# Build Path: /app/.heroku/python/
# Build Deps: libraries/sqlite

OUT_PREFIX=$1
VERSION="3.5.2"

echo "Building Python ${VERSION}..."
SOURCE_TARBALL="https://www.python.org/ftp/python/${VERSION}/Python-${VERSION}.tgz"
curl -L $SOURCE_TARBALL | tar xz
mv "Python-${VERSION}" src
cd src

./configure --prefix=$OUT_PREFIX --with-ensurepip=no
make
make install

# ln $OUT_PREFIX/bin/python3 $OUT_PREFIX/bin/python
